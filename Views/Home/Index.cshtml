<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-5">
    <h2 class="mb-4 text-center fw-bold">Class Schedule</h2>

    <div class="table-responsive">
        <div class="shadow rounded overflow-hidden">
            <table class="table  align-middle text-center mb-0" id="scheduleTable">
                <thead class="bg-light">
                    <tr class="rounded-top">
                        <th class="bg-white text-secondary">Day / Time</th>
                        <!-- Time slots dynamically injected here -->
                    </tr>
                </thead>
                <tbody class="bg-white">
                    <!-- Week days and periods dynamically injected here -->
                </tbody>
            </table>
        </div>
    </div>

</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<script>
    $(document).ready(function () {
        const times = ["08:00 AM", "09:00 AM", "10:00 AM", "11:00 AM", "12:00 PM", "01:00 PM", "02:00 PM"];
        const weekdays = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

        // Fake API call
        function fetchSchedule() {
            return [
                { day: "Monday", time: "08:00 AM", subject: "Math" },
                { day: "Monday", time: "09:00 AM", subject: "Physics" },
                { day: "Monday", time: "12:00 PM", subject: "Break" },
                { day: "Tuesday", time: "10:00 AM", subject: "English" },
                { day: "Wednesday", time: "08:00 AM", subject: "Chemistry" },
                { day: "Friday", time: "01:00 PM", subject: "Sports" },
                { day: "Friday", time: "12:00 PM", subject: "Lunch Break" },
            ];
        }

        // Build header
        times.forEach(time => {
            $('#scheduleTable thead tr').append(`<th class="bg-white text-secondary">${time}</th>`);
        });

        // Build body
        weekdays.forEach(day => {
            let row = `<tr><th class="text-start text-secondary fw-semibold">${day}</th>`;
            times.forEach(time => {
                row += `<td data-day="${day}" data-time="${time}" class="p-3"></td>`;
            });
            row += `</tr>`;
            $('#scheduleTable tbody').append(row);
        });

        // Populate periods
        const schedule = fetchSchedule();
        schedule.forEach(entry => {
            const cell = $(`td[data-day="${entry.day}"][data-time="${entry.time}"]`);
            if (cell.length) {
                if (entry.subject.toLowerCase().includes('break')) {
                    cell.addClass('bg-warning-subtle text-warning-emphasis fw-semibold rounded').text(entry.subject);
                } else {
                    cell.addClass('bg-success-subtle text-success-emphasis fw-semibold rounded').text(entry.subject);
                }
            }
        });
    });
</script>
