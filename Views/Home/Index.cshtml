<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-5">
    <h2 class="mb-4 text-center">Class Schedule</h2>
    <div class="table-responsive">
        <table class="table table-bordered text-center align-middle" id="scheduleTable">
            <thead class="table-primary">
                <tr>
                    <th>Day / Time</th>
                    <!-- Time slots dynamically injected here -->
                </tr>
            </thead>
            <tbody>
                <!-- Week days and periods dynamically injected here -->
            </tbody>
        </table>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<script>
    $(document).ready(function () {
        const times = ["08:00 AM", "09:00 AM", "10:00 AM", "11:00 AM", "12:00 PM", "01:00 PM", "02:00 PM"];
        const weekdays = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

        // Simulated API call (replace this with your real API)
        function fetchSchedule() {
            return [
                { day: "Monday", time: "08:00 AM", subject: "Math" },
                { day: "Monday", time: "09:00 AM", subject: "Physics" },
                { day: "Monday", time: "12:00 PM", subject: "Break" },
                { day: "Tuesday", time: "10:00 AM", subject: "English" },
                { day: "Wednesday", time: "08:00 AM", subject: "Chemistry" },
                { day: "Friday", time: "01:00 PM", subject: "Sports" },
                { day: "Friday", time: "12:00 PM", subject: "Lunch Break" },
                // Add more here...
            ];
        }

        // Populate header
        times.forEach(time => {
            $('#scheduleTable thead tr').append(`<th>${time}</th>`);
        });

        // Populate body
        weekdays.forEach(day => {
            let row = `<tr><th class="table-light">${day}</th>`;
            times.forEach(time => {
                row += `<td data-day="${day}" data-time="${time}"></td>`;
            });
            row += `</tr>`;
            $('#scheduleTable tbody').append(row);
        });

        // Insert data from API
        const schedule = fetchSchedule();
        schedule.forEach(entry => {
            const cell = $(`td[data-day="${entry.day}"][data-time="${entry.time}"]`);
            if (cell.length) {
                if (entry.subject.toLowerCase().includes('break')) {
                    cell.addClass('bg-warning fw-bold').text(entry.subject);
                } else {
                    cell.addClass('bg-success text-white fw-semibold').text(entry.subject);
                }
            }
        });
    });
</script>
